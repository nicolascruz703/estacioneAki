*{ You can use plain selenium command using the selenium tag }*

#{selenium}
    // Open the home page, and check that no error occured
    open('/admin')
    assertNotTitle('Application error')

   // #1 Verificação da 1.a tela
    //assertTextPresent('Administração')
    //assertTextPresent('Escolha uma entidade')
    assertTextPresent('Estacionamentos')

   // #2 Navegação para a tela de inserção
    clickAndWait('link=Adicionar')
    
   // #3 Inserção com sucesso 
    type('id=object_nome', 'Estacionamento da EACH')
	type('id=object_endereco', 'Rua Arlindo Bettio, 1000')
	type('id=object_cnpj', '6302553000010')
	type('id=object_latitude', '-23.484468')
	type('id=object_longitude', '-46.499891')
	type('id=object_numeroDeVagas', '10')
	type('id=object_precoHora', '7')
	
	clickAndWait('name=_save')
	assertTextPresent('Estacionamento foi criado')
	
   // #4 Edição com sucesso
	clickAndWait('link=Estacionamento da EACH')	

	assertTextPresent('Estacionamento da EACH')
	assertTextPresent('Rua Arlindo Bettio, 1000')
	//assertTextPresent('6302553000010')
	//assertTextPresent('-23.484468')
	//assertTextPresent('-46.499891')
	assertTextPresent('10')
	//assertTextPresent('7')
	clickAndWait('name=_save')	
	assertTextPresent('Estacionamento foi gravado')

   // #5 Exclusão com sucesso
	clickAndWait('link=Estacionamento da EACH')
	clickAndWait('css=p.crudDelete > input[type="submit"]')	
	assertTextPresent('Estacionamento foi apagado')

   // #6 Inserção sem preenchimento
	clickAndWait('link=Adicionar Estacionamento')
	clickAndWait('name=_save')
	assertTextPresent('Corrija os erros por favor')
	
   // #7 Inserção excedendo o limite de preenchimento
    type('id=object_nome', 'Estacionamento da Poli')
	type('id=object_endereco', 'Avenida Prof Luciano Gualberto, 380')
	type('id=object_cnpj', '630255300008801')
	type('id=object_latitude', '-23.559570')
	type('id=object_longitude', '-46.731741')
	type('id=object_numeroDeVagas', '20')
	type('id=object_precoHora', '8')
	clickAndWait('name=_save')
	//assertTextPresent('Maximum size is 14')
	assertTextPresent('Corrija os erros por favor')

#{/selenium}

